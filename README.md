# LaTeX ↔ 한글 수식 변환기 (AST 기반 파서)

이 프로젝트는 LaTeX 수식과 한글 수식 간의 상호 변환을 수행하기 위한 AST(Abstract Syntax Tree) 기반 파서를 구현하는 것을 목표로 합니다.

---

## 요구 사항 정의
    - 한글 xml parse, 한글 수식을 추출.
    - 한글 수식을 Latex 으로 변환.
    - Latex 을 한글 수식 으로 변환.


## 구성 요소

- **AST 노드 기반 구조**  
  수식 요소를 각 노드(예: `FunctionNode`, `FractionNode`, `RootNode` 등)로 분할하여 변환 로직을 구성

- **토큰화 + 파싱 분리**  
  수식은 먼저 `tokenize()` 함수를 통해 토큰화되고, 이후 `build_ast()`에서 재귀적으로 AST를 구성

- **우선순위 기반 분기 처리**  
  이항 연산자는 연산자 우선순위에 따라 트리 형태로 분기됨 (`+`, `×`, `^` 등)

- **재귀적 구조 처리**  
  각 노드 내부에서 하위 수식을 다시 `build_ast()`를 호출해 처리하는 방식으로 중첩 수식을 다룸

---

## 테스트

현재 다음 수식 유형에 대해 테스트를 구성하고 실행 중입니다:

- 기본 연산: `+`, `-`, `×`, `/`, `^`
- 함수: `sin`, `cos`, `log`, `sqrt`
- 분수, 제곱근, 로그 등 구조적 노드
- 간단한 `cases` 수식에 대한 구조 테스트

> 일부 테스트는 통과하였으며, 복합 구조나 중첩 수식에서는 추가 보완이 필요한 상황입니다.

---
## 현재 구현 범위 및 한계

- 수식 노드별 클래스를 통해 파싱 구조를 나누는 작업은 진행되었음
- 중첩 수식(예: 적분 안에 분수, 함수 안에 괄호 등)에 대한 처리에서 일부 누락된 토큰 처리나 구조 오염 문제가 발생 중
- `CasesNode`, `MatrixNode` 등 일부 노드는 후처리 훅 구조가 필요한 상태
- 자동 괄호(`\left`, `\right`)와 LaTeX 특수 명령어 처리 (`\,`, `\text{}` 등)는 일부 수식에서 출력에 영향을 줌

---

## 향후 계획

- 후처리 훅 적용 범위 확장 (Cases, Matrix, Vector 등)
- 한글 수식의 생략 곱셈(`2x` → `2 × x`) 처리
- LaTeX 공백 명령어 (`\,`) 필터링 및 정규화
- 테스트 커버리지 확장 및 실제 XML 수식 기반 수식 전환 적용

---

## 📁 디렉토리 구조

```bash
.
├── build                  ----> # 개발 빌드 환경 설정
│   ├── client             ----> # 웹 브라우저 개발 환경 설정
│   └── server             ----> # 서버 개발 환경 설정
├── dist
│   ├── public             ----> # 프론트엔드 배포 결과물
│   └── server             ----> # 백엔드(서버) 배포 결과물)
├── jest.config.js         ----> # 단위 테스트 환경 설정
├── package.json
├── src
│   ├── main.ts            ----> # 서버 시작 코드
│   ├── models             ----> # 서버 및 클라이언트 데이터 타입 정의
│   ├── public             ----> # 프론트엔드 개발 코드 모음
│   │   ├── components
│   │   ├── controllers    ----> # 백엔드 데이터 통신
│   │   ├── fonts
│   │   ├── index.html
│   │   ├── index.tsx      ----> # 프론트엔드 시작 스크립트
│   │   ├── pages          ----> # URL 별 화면 모음
│   │   ├── sass           ----> # 스타일 코드
│   │   ├── static         ----> # 이미지 파일 모음
│   │   └── store          ----> # 프론트엔드 데이터 저장소
│   ├── server             ----> # 서버 개발 코드 모음
│   │   ├── controllers    ----> # REST Api 및 Socket 정의
│   │   │   ├── rest
│   │   │   └── websocket
│   │   └── services       ----> # 백엔드 서비스 정의
│   │       ├── chat
│   │       └── system
│   └── test               ----> # 단위 테스트 설정 코드
├── tsconfig.json
├── tslint.json
└── user_guide             ----> # 사용자 가이트 모음
---

## 예시 수식

- `sqrt {3} of {x + 1}` → `\sqrt[3]{x + 1}`
- `log {x + 1}` ↔ `\log{x + 1}`
- `cases {x && x > 0 # -x && x <= 0}` ↔ `\begin{cases} x & x > 0 \\ -x & x <= 0 \end{cases}`

---

## 📌 주의 사항

- 이 프로젝트는 구현 진행 중입니다. 일부 수식은 정확히 변환되지 않을 수 있으며, 구조적 보완이 필요한 부분이 존재합니다.